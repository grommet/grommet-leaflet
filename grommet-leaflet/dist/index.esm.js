var ae=Object.create;var Z=Object.defineProperty;var ie=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var me=Object.getPrototypeOf,le=Object.prototype.hasOwnProperty;var P=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var fe=(o,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of se(e))!le.call(o,t)&&t!==r&&Z(o,t,{get:()=>e[t],enumerable:!(n=ie(e,t))||n.enumerable});return o};var u=(o,e,r)=>(r=o!=null?ae(me(o)):{},fe(e||!o||!o.__esModule?Z(r,"default",{value:o,enumerable:!0}):r,o));var H=P((so,X)=>{"use strict";var ce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";X.exports=ce});var V=P((mo,K)=>{"use strict";var ue=H();function U(){}function J(){}J.resetWarningCache=U;K.exports=function(){function o(n,t,p,a,f,m){if(m!==ue){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}o.isRequired=o;function e(){return o}var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:J,resetWarningCache:U};return r.PropTypes=r,r}});var c=P((co,$)=>{$.exports=V()();var lo,fo});var T=u(c());import w from"react";import Y,{ThemeContext as xe}from"styled-components";import{Box as he,Text as ye}from"grommet";import{deepMerge as de}from"grommet/utils";var b=o=>{let e={};return o.forEach(r=>{e=de(e,r)}),e};var ge=Y(he)`
  // translate to re-align with leaflet div
  transform: translateX(-35%);
  &:hover {
    transform: translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,be=Y(ye)`
  // multiplier of font-size, for tighter alignment
  line-height: 1rem;
`,S=({cluster:o,kind:e="default",size:r="medium",...n})=>{var i,x,h,y,N,_,I,W,j,q,A,G,F;let t=w.useContext(xe),p=b([(h=(x=(i=t==null?void 0:t.map)==null?void 0:i.cluster)==null?void 0:x.size)==null?void 0:h.medium,(_=(N=(y=t==null?void 0:t.map)==null?void 0:y.cluster)==null?void 0:N.size)==null?void 0:_[r],(W=(I=t==null?void 0:t.map)==null?void 0:I.cluster)==null?void 0:W.default,(q=(j=t==null?void 0:t.map)==null?void 0:j.cluster)==null?void 0:q[e]]),a=o.getChildCount(),f=(F=(G=(A=t==null?void 0:t.map)==null?void 0:A.cluster)==null?void 0:G[e])==null?void 0:F.icon,m=a;return w.createElement(ge,{...p==null?void 0:p.container,...n},f,w.createElement(be,{...p==null?void 0:p.label},m))};S.propTypes={cluster:T.default.object,kind:T.default.string,size:T.default.string};var v=u(c());import s from"react";import{useMap as Te}from"react-leaflet";import Ce from"leaflet";import{Box as C,Button as z}from"grommet";import{Add as ve,Subtract as ke,Globe as Pe}from"grommet-icons";var we=({locations:o})=>{let e=Ce.latLngBounds();return o.features?o.features.forEach(r=>{var n,t;e.extend([(n=r.geometry)==null?void 0:n.coordinates[0],(t=r.geometry)==null?void 0:t.coordinates[1]])}):o.forEach(r=>{e.extend([r==null?void 0:r[0],r==null?void 0:r[1]])}),e},Se=1.5,ze=({locations:o})=>{let e=Te(),r=o&&we({locations:o});return r&&(JSON.stringify(r._northEast)===JSON.stringify(r._southWest)||e.flyToBounds(r,{duration:Se})),s.createElement(C,{className:"leaflet-bottom leaflet-right"},s.createElement(C,{className:"leaflet-control"},s.createElement(C,{elevation:"large",round:"medium",background:"background"},s.createElement(z,{a11yTitle:"Zoom in",icon:s.createElement(ve,null),onClick:n=>{n.preventDefault(),e.zoomIn()}}),s.createElement(z,{a11yTitle:"Zoom out",icon:s.createElement(ke,null),onClick:n=>{n.preventDefault(),e.zoomOut()}}),s.createElement(C,{border:{color:"border-weak",side:"top"}},r&&s.createElement(z,{a11yTitle:"Zoom to data",icon:s.createElement(Pe,null),onClick:n=>{n.preventDefault(),e.flyToBounds(r,{duration:1.5})}})))))};ze.propTypes={locations:v.default.oneOfType([v.default.array,v.default.object])};var l=u(c());import O,{forwardRef as Le,useContext as Ee}from"react";import{MapContainer as Be,TileLayer as De}from"react-leaflet";import Ne,{ThemeContext as ee}from"styled-components";import{deepMerge as oe}from"grommet/utils";import{deepMerge as Oe}from"grommet/utils";var Q={default:{container:{align:"center",justify:"center",background:"background-front",border:{color:"border",size:"small"},elevation:"medium",flex:!1,round:"full"}}},Me=Oe(Q,{default:{container:{height:{min:"25px",max:"25px"},width:{min:"25px",max:"25px"}}}}),R={pin:{...Me},cluster:{...Q,size:{small:{container:{height:{min:"36px",max:"36px"},width:{min:"36px",max:"36px"}},label:{size:"small"}},medium:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"48px",max:"48px"},width:{min:"48px",max:"48px"}},label:{color:"text-strong",size:"medium",weight:500}},large:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"54px",max:"54px"},width:{min:"54px",max:"54px"}},label:{size:"medium"}}}},popup:{background:"background-front",border:{color:"border-weak",size:"xsmall"},gap:"xsmall",margin:"none",pad:"small",round:"xsmall"}};var _e=Ne(Be)`
  ${({theme:o})=>`
      font-family: ${o.global.font.family};
      height: 100%;
    `}
`,Ie=Le(({center:o=[0,0],children:e,scrollWheelZoom:r,theme:n,zoom:t=1,zoomControl:p=!1,...a},f)=>{let m=Ee(ee),i=oe(m,{map:oe(R,n)});return O.createElement(ee.Provider,{value:i},O.createElement(_e,{center:o,ref:f,scrollWheelZoom:r,zoom:t,zoomControl:p,...a},O.createElement(De,{attribution:`
          &copy; <a href="https://stadiamaps.com/">Stadia Maps</a>,
          &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a>
          &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors`,url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"}),e))});Ie.propTypes={center:l.default.array,children:l.default.any,scrollWheelZoom:l.default.string||l.default.bool,theme:l.default.object,zoom:l.default.number,zoomControl:l.default.bool};var M=u(c());import g,{useContext as We}from"react";import je from"react-dom/server";import{v4 as qe}from"uuid";import{ThemeContext as re}from"styled-components";import{Marker as Ae,Popup as Ge}from"react-leaflet";import Fe from"leaflet";var Ze=({icon:o,popup:e,...r})=>{var a;let n=We(re),t=(a=o==null?void 0:o.props)==null?void 0:a.kind,p=e?g.createElement(Ge,null,g.createElement(k,null,e)):void 0;return g.createElement(Ae,{key:qe(),icon:Fe.divIcon({className:"grommet-marker",html:je.renderToString(g.createElement(re.Provider,{value:n},o||g.createElement(L,null)))}),kind:t,...r},p)};Ze.propTypes={icon:M.default.node,popup:M.default.node};var B=u(c());import d,{useContext as Xe}from"react";import{ThemeContext as E}from"styled-components";import{createElementObject as He,createPathComponent as Ue,extendContext as Je}from"@react-leaflet/core";import ne from"leaflet";import"leaflet.markercluster";import te from"react-dom/server";var Ke=({...o},e)=>{let r=new ne.MarkerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!1,...o});return He(r,Je(e,{layerContainer:r}))},Ve=Ue(Ke),$e=({icon:o,popup:e,...r})=>{let n=Xe(E);return d.createElement(Ve,{iconCreateFunction:t=>{if(e){let p=t.bindPopup(te.renderToString(d.createElement(E.Provider,{value:n},d.createElement(k,null,e({cluster:t})))));t.on("click",()=>{p.openPopup()})}return ne.divIcon({className:"grommet-cluster-group",html:te.renderToString(d.createElement(E.Provider,{value:n},o?d.cloneElement(o({cluster:t}),{cluster:t}):d.createElement(S,{cluster:t})))})},...r})};$e.propTypes={icon:B.default.func,popup:B.default.func};var pe=u(c());import D from"react";import Ye from"styled-components";import{Box as Qe,ThemeContext as Re}from"grommet";var eo=Ye(Qe)`
  // to create the pin shape
  border-bottom-right-radius: 0;
  // translate to re-align with leaflet div
  transform: rotate(45deg) translateX(-35%);
  &:hover {
    transform: rotate(45deg) translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,L=({kind:o="default"})=>{var t,p,a,f,m,i,x,h,y;let e=D.useContext(Re),r=b([(a=(p=(t=e==null?void 0:e.map)==null?void 0:t.pin)==null?void 0:p.default)==null?void 0:a.container,(i=(m=(f=e==null?void 0:e.map)==null?void 0:f.pin)==null?void 0:m[o])==null?void 0:i.container]),n=(y=(h=(x=e==null?void 0:e.map)==null?void 0:x.pin)==null?void 0:h[o])==null?void 0:y.icon;return n&&(n=D.cloneElement(n,{style:{transform:"rotate(-45deg)"}})),D.createElement(eo,{...r},n)};L.propTypes={kind:pe.default.string};import oo,{useContext as ro}from"react";import{ThemeContext as to}from"styled-components";import{Box as no}from"grommet";var k=({...o})=>{var r;let e=ro(to);return oo.createElement(no,{...(r=e==null?void 0:e.map)==null?void 0:r.popup,...o})};window.console=console;var po=console.error,ao=["useLayoutEffect does nothing on the server, because its effect cannot"];console.error=function(e,...r){ao.some(n=>e.includes(n))||po(e,...r)};export{S as Cluster,ze as Controls,we as LocationBounds,Ie as Map,Ze as Marker,$e as MarkerCluster,L as Pin,k as Popup,R as base,b as normalizeTheme};
//# sourceMappingURL=index.esm.js.map
