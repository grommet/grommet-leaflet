"use client";var be=Object.create;var M=Object.defineProperty;var Ce=Object.getOwnPropertyDescriptor;var Te=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,ke=Object.prototype.hasOwnProperty;var we=(o,e)=>{for(var t in e)M(o,t,{get:e[t],enumerable:!0})},oe=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Te(e))!ke.call(o,r)&&r!==t&&M(o,r,{get:()=>e[r],enumerable:!(n=Ce(e,r))||n.enumerable});return o};var p=(o,e,t)=>(t=o!=null?be(ve(o)):{},oe(e||!o||!o.__esModule?M(t,"default",{value:o,enumerable:!0}):t,o)),Pe=o=>oe(M({},"__esModule",{value:!0}),o);var Ge={};we(Ge,{Cluster:()=>E,Controls:()=>ie,LocationBounds:()=>pe,Map:()=>le,Marker:()=>ue,MarkerCluster:()=>ce,Pin:()=>N,Popup:()=>z,base:()=>A,normalizeTheme:()=>k});module.exports=Pe(Ge);var S=p(require("react")),L=p(require("prop-types")),w=p(require("styled-components")),B=require("grommet");var te=require("grommet/utils"),k=o=>{let e={};return o.forEach(t=>{e=(0,te.deepMerge)(e,t)}),e};var ze=(0,w.default)(B.Box)`
  // translate to re-align with leaflet div
  transform: translateX(-35%);
  &:hover {
    transform: translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,Me=(0,w.default)(B.Text)`
  // multiplier of font-size, for tighter alignment
  line-height: 1rem;
`,E=({cluster:o,kind:e="default",size:t="medium",...n})=>{var c,C,T,v,$,q,F,U,Q,V,Y,R,ee;let r=S.default.useContext(w.ThemeContext),i=k([(T=(C=(c=r==null?void 0:r.map)==null?void 0:c.cluster)==null?void 0:C.size)==null?void 0:T.medium,(q=($=(v=r==null?void 0:r.map)==null?void 0:v.cluster)==null?void 0:$.size)==null?void 0:q[t],(U=(F=r==null?void 0:r.map)==null?void 0:F.cluster)==null?void 0:U.default,(V=(Q=r==null?void 0:r.map)==null?void 0:Q.cluster)==null?void 0:V[e]]),s=o.getChildCount(),x=(ee=(R=(Y=r==null?void 0:r.map)==null?void 0:Y.cluster)==null?void 0:R[e])==null?void 0:ee.icon,h=s;return S.default.createElement(ze,{...i==null?void 0:i.container,...n},x,S.default.createElement(Me,{...i==null?void 0:i.label},h))};E.propTypes={cluster:L.default.object,kind:L.default.string,size:L.default.string};var a=p(require("react")),O=p(require("prop-types")),re=require("react-leaflet"),ne=p(require("leaflet")),l=require("grommet"),g=require("grommet-icons"),pe=({locations:o})=>{let e=ne.default.latLngBounds();return o.features?o.features.forEach(t=>{var n,r;e.extend([(n=t.geometry)==null?void 0:n.coordinates[0],(r=t.geometry)==null?void 0:r.coordinates[1]])}):o.forEach(t=>{e.extend([t==null?void 0:t[0],t==null?void 0:t[1]])}),e},Se=1.5,ie=({locations:o})=>{let e=(0,re.useMap)(),t=o&&pe({locations:o});return t&&(JSON.stringify(t._northEast)===JSON.stringify(t._southWest)||e.flyToBounds(t,{duration:Se})),a.default.createElement(l.Box,{className:"leaflet-bottom leaflet-right"},a.default.createElement(l.Box,{className:"leaflet-control"},a.default.createElement(l.Box,{elevation:"large",round:"medium",background:"background"},a.default.createElement(l.Button,{a11yTitle:"Zoom in",icon:a.default.createElement(g.Add,null),onClick:n=>{n.preventDefault(),e.zoomIn()}}),a.default.createElement(l.Button,{a11yTitle:"Zoom out",icon:a.default.createElement(g.Subtract,null),onClick:n=>{n.preventDefault(),e.zoomOut()}}),a.default.createElement(l.Box,{border:{color:"border-weak",side:"top"}},t&&a.default.createElement(l.Button,{a11yTitle:"Zoom to data",icon:a.default.createElement(g.Globe,null),onClick:n=>{n.preventDefault(),e.flyToBounds(t,{duration:1.5})}})))))};ie.propTypes={locations:O.default.oneOfType([O.default.array,O.default.object])};var m=p(require("react")),d=p(require("prop-types")),y=require("react-leaflet"),P=p(require("styled-components")),I=require("grommet/utils");var ae=require("grommet/utils"),se={default:{container:{align:"center",justify:"center",background:"background-front",border:{color:"border",size:"small"},elevation:"medium",flex:!1,round:"full"}}},Le=(0,ae.deepMerge)(se,{default:{container:{height:{min:"25px",max:"25px"},width:{min:"25px",max:"25px"}}}}),A={pin:{...Le},cluster:{...se,size:{small:{container:{height:{min:"36px",max:"36px"},width:{min:"36px",max:"36px"}},label:{size:"small"}},medium:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"48px",max:"48px"},width:{min:"48px",max:"48px"}},label:{color:"text-strong",size:"medium",weight:500}},large:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"54px",max:"54px"},width:{min:"54px",max:"54px"}},label:{size:"medium"}}}},popup:{background:"background-front",border:{color:"border-weak",size:"xsmall"},gap:"xsmall",margin:"none",pad:"small",round:"xsmall"}};var Be=(0,P.default)(y.MapContainer)`
  ${({theme:o})=>`
      font-family: ${o.global.font.family};
      height: 100%;
    `}
`,le=(0,m.forwardRef)(({center:o=[0,0],children:e,scrollWheelZoom:t=!0,theme:n,zoom:r=1,zoomControl:i=!1,...s},x)=>{let h=(0,m.useContext)(P.ThemeContext),c=(0,I.deepMerge)(h,{map:(0,I.deepMerge)(A,n)});return m.default.createElement(P.ThemeContext.Provider,{value:c},m.default.createElement(Be,{attributionControl:!1,center:o,ref:x,scrollWheelZoom:t,zoom:r,zoomControl:i,...s},m.default.createElement(y.AttributionControl,{position:"bottomright",prefix:!1}),m.default.createElement(y.TileLayer,{attribution:`
            &copy; <a href="https://stadiamaps.com/">Stadia Maps</a>,
            &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a>,
            &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors`,url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"}),e))});le.propTypes={center:d.default.array,children:d.default.any,scrollWheelZoom:d.default.string||d.default.bool,theme:d.default.object,zoom:d.default.number,zoomControl:d.default.bool};var u=p(require("react")),X=p(require("prop-types")),me=p(require("react-dom/server")),fe=require("uuid"),_=require("styled-components"),D=require("react-leaflet"),de=p(require("leaflet"));var ue=({icon:o,popup:e,...t})=>{var s;let n=(0,u.useContext)(_.ThemeContext),r=(s=o==null?void 0:o.props)==null?void 0:s.kind,i=e?u.default.createElement(D.Popup,null,u.default.createElement(z,null,e)):void 0;return u.default.createElement(D.Marker,{key:(0,fe.v4)(),icon:de.default.divIcon({className:"grommet-marker",html:me.default.renderToString(u.default.createElement(_.ThemeContext.Provider,{value:n},o||u.default.createElement(N,null)))}),kind:r,...t},i)};ue.propTypes={icon:X.default.node,popup:X.default.node};var f=p(require("react")),H=p(require("prop-types")),j=require("styled-components"),b=require("@react-leaflet/core"),K=p(require("leaflet")),Re=require("leaflet.markercluster"),J=p(require("react-dom/server"));var Ee=({...o},e)=>{let t=new K.default.MarkerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!1,...o});return(0,b.createElementObject)(t,(0,b.extendContext)(e,{layerContainer:t}))},Oe=(0,b.createPathComponent)(Ee),ce=({icon:o,popup:e,...t})=>{let n=(0,f.useContext)(j.ThemeContext);return f.default.createElement(Oe,{iconCreateFunction:r=>{if(e){let i=r.bindPopup(J.default.renderToString(f.default.createElement(j.ThemeContext.Provider,{value:n},f.default.createElement(z,null,e({cluster:r})))));r.on("click",()=>{i.openPopup()})}return K.default.divIcon({className:"grommet-cluster-group",html:J.default.renderToString(f.default.createElement(j.ThemeContext.Provider,{value:n},o?f.default.cloneElement(o({cluster:r}),{cluster:r}):f.default.createElement(E,{cluster:r})))})},...t})};ce.propTypes={icon:H.default.func,popup:H.default.func};var G=p(require("react")),xe=p(require("prop-types")),he=p(require("styled-components")),W=require("grommet");var De=(0,he.default)(W.Box)`
  // to create the pin shape
  border-bottom-right-radius: 0;
  // translate to re-align with leaflet div
  transform: rotate(45deg) translateX(-35%);
  &:hover {
    transform: rotate(45deg) translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,N=({kind:o="default"})=>{var r,i,s,x,h,c,C,T,v;let e=G.default.useContext(W.ThemeContext),t=k([(s=(i=(r=e==null?void 0:e.map)==null?void 0:r.pin)==null?void 0:i.default)==null?void 0:s.container,(c=(h=(x=e==null?void 0:e.map)==null?void 0:x.pin)==null?void 0:h[o])==null?void 0:c.container]),n=(v=(T=(C=e==null?void 0:e.map)==null?void 0:C.pin)==null?void 0:T[o])==null?void 0:v.icon;return n&&(n=G.default.cloneElement(n,{style:{transform:"rotate(-45deg)"}})),G.default.createElement(De,{...t},n)};N.propTypes={kind:xe.default.string};var Z=p(require("react")),ge=require("styled-components"),ye=require("grommet");var z=({...o})=>{var t;let e=(0,Z.useContext)(ge.ThemeContext);return Z.default.createElement(ye.Box,{...(t=e==null?void 0:e.map)==null?void 0:t.popup,...o})};window.console=console;var Ne=console.error,je=["useLayoutEffect does nothing on the server, because its effect cannot"];console.error=function(e,...t){je.some(n=>e.includes(n))||Ne(e,...t)};
//# sourceMappingURL=index.cjs.js.map
