var Oe=Object.create;var z=Object.defineProperty;var Me=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var Ee=Object.getPrototypeOf,Be=Object.prototype.hasOwnProperty;var A=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),De=(o,e)=>{for(var r in e)z(o,r,{get:e[r],enumerable:!0})},te=(o,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of Le(e))!Be.call(o,t)&&t!==r&&z(o,t,{get:()=>e[t],enumerable:!(n=Me(e,t))||n.enumerable});return o};var p=(o,e,r)=>(r=o!=null?Oe(Ee(o)):{},te(e||!o||!o.__esModule?z(r,"default",{value:o,enumerable:!0}):r,o)),Ne=o=>te(z({},"__esModule",{value:!0}),o);var pe=A((Ve,ne)=>{"use strict";var _e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";ne.exports=_e});var me=A(($e,se)=>{"use strict";var Ie=pe();function ae(){}function ie(){}ie.resetWarningCache=ae;se.exports=function(){function o(n,t,a,s,h,c){if(c!==Ie){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}o.isRequired=o;function e(){return o}var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ie,resetWarningCache:ae};return r.PropTypes=r,r}});var y=A((Re,le)=>{le.exports=me()();var Ye,Qe});var Je={};De(Je,{Cluster:()=>E,Controls:()=>xe,LocationBounds:()=>de,Map:()=>ge,Marker:()=>ve,MarkerCluster:()=>ke,Pin:()=>_,Popup:()=>S,base:()=>G,normalizeTheme:()=>k});module.exports=Ne(Je);var O=p(require("react")),M=p(y()),P=p(require("styled-components")),L=require("grommet");var fe=require("grommet/utils"),k=o=>{let e={};return o.forEach(r=>{e=(0,fe.deepMerge)(e,r)}),e};var We=(0,P.default)(L.Box)`
  // translate to re-align with leaflet div
  transform: translateX(-35%);
  &:hover {
    transform: translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,je=(0,P.default)(L.Text)`
  // multiplier of font-size, for tighter alignment
  line-height: 1rem;
`,E=({cluster:o,kind:e="default",size:r="medium",...n})=>{var m,T,C,v,K,V,$,Y,Q,R,ee,oe,re;let t=O.default.useContext(P.ThemeContext),a=k([(C=(T=(m=t==null?void 0:t.map)==null?void 0:m.cluster)==null?void 0:T.size)==null?void 0:C.medium,(V=(K=(v=t==null?void 0:t.map)==null?void 0:v.cluster)==null?void 0:K.size)==null?void 0:V[r],(Y=($=t==null?void 0:t.map)==null?void 0:$.cluster)==null?void 0:Y.default,(R=(Q=t==null?void 0:t.map)==null?void 0:Q.cluster)==null?void 0:R[e]]),s=o.getChildCount(),h=(re=(oe=(ee=t==null?void 0:t.map)==null?void 0:ee.cluster)==null?void 0:oe[e])==null?void 0:re.icon,c=s;return O.default.createElement(We,{...a==null?void 0:a.container,...n},h,O.default.createElement(je,{...a==null?void 0:a.label},c))};E.propTypes={cluster:M.default.object,kind:M.default.string,size:M.default.string};var i=p(require("react")),B=p(y()),ce=require("react-leaflet"),ue=p(require("leaflet")),l=require("grommet"),g=require("grommet-icons"),de=({locations:o})=>{let e=ue.default.latLngBounds();return o.features?o.features.forEach(r=>{var n,t;e.extend([(n=r.geometry)==null?void 0:n.coordinates[0],(t=r.geometry)==null?void 0:t.coordinates[1]])}):o.forEach(r=>{e.extend([r==null?void 0:r[0],r==null?void 0:r[1]])}),e},qe=1.5,xe=({locations:o})=>{let e=(0,ce.useMap)(),r=o&&de({locations:o});return r&&(JSON.stringify(r._northEast)===JSON.stringify(r._southWest)||e.flyToBounds(r,{duration:qe})),i.default.createElement(l.Box,{className:"leaflet-bottom leaflet-right"},i.default.createElement(l.Box,{className:"leaflet-control"},i.default.createElement(l.Box,{elevation:"large",round:"medium",background:"background"},i.default.createElement(l.Button,{a11yTitle:"Zoom in",icon:i.default.createElement(g.Add,null),onClick:n=>{n.preventDefault(),e.zoomIn()}}),i.default.createElement(l.Button,{a11yTitle:"Zoom out",icon:i.default.createElement(g.Subtract,null),onClick:n=>{n.preventDefault(),e.zoomOut()}}),i.default.createElement(l.Box,{border:{color:"border-weak",side:"top"}},r&&i.default.createElement(l.Button,{a11yTitle:"Zoom to data",icon:i.default.createElement(g.Globe,null),onClick:n=>{n.preventDefault(),e.flyToBounds(r,{duration:1.5})}})))))};xe.propTypes={locations:B.default.oneOfType([B.default.array,B.default.object])};var d=p(require("react")),u=p(y()),D=require("react-leaflet"),w=p(require("styled-components")),F=require("grommet/utils");var he=require("grommet/utils"),ye={default:{container:{align:"center",justify:"center",background:"background-front",border:{color:"border",size:"small"},elevation:"medium",flex:!1,round:"full"}}},Ae=(0,he.deepMerge)(ye,{default:{container:{height:{min:"25px",max:"25px"},width:{min:"25px",max:"25px"}}}}),G={pin:{...Ae},cluster:{...ye,size:{small:{container:{height:{min:"36px",max:"36px"},width:{min:"36px",max:"36px"}},label:{size:"small"}},medium:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"48px",max:"48px"},width:{min:"48px",max:"48px"}},label:{color:"text-strong",size:"medium",weight:500}},large:{container:{direction:"row-reverse",gap:"xxsmall",height:{min:"54px",max:"54px"},width:{min:"54px",max:"54px"}},label:{size:"medium"}}}},popup:{background:"background-front",border:{color:"border-weak",size:"xsmall"},gap:"xsmall",margin:"none",pad:"small",round:"xsmall"}};var Ge=(0,w.default)(D.MapContainer)`
  ${({theme:o})=>`
      font-family: ${o.global.font.family};
      height: 100%;
    `}
`,ge=(0,d.forwardRef)(({center:o=[0,0],children:e,scrollWheelZoom:r,theme:n,zoom:t=1,zoomControl:a=!1,...s},h)=>{let c=(0,d.useContext)(w.ThemeContext),m=(0,F.deepMerge)(c,{map:(0,F.deepMerge)(G,n)});return d.default.createElement(w.ThemeContext.Provider,{value:m},d.default.createElement(Ge,{center:o,ref:h,scrollWheelZoom:r,zoom:t,zoomControl:a,...s},d.default.createElement(D.TileLayer,{attribution:`
          &copy; <a href="https://stadiamaps.com/">Stadia Maps</a>,
          &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a>
          &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors`,url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png"}),e))});ge.propTypes={center:u.default.array,children:u.default.any,scrollWheelZoom:u.default.string||u.default.bool,theme:u.default.object,zoom:u.default.number,zoomControl:u.default.bool};var x=p(require("react")),Z=p(y()),be=p(require("react-dom/server")),Te=require("uuid"),X=require("styled-components"),N=require("react-leaflet"),Ce=p(require("leaflet"));var ve=({icon:o,popup:e,...r})=>{var s;let n=(0,x.useContext)(X.ThemeContext),t=(s=o==null?void 0:o.props)==null?void 0:s.kind,a=e?x.default.createElement(N.Popup,null,x.default.createElement(S,null,e)):void 0;return x.default.createElement(N.Marker,{key:(0,Te.v4)(),icon:Ce.default.divIcon({className:"grommet-marker",html:be.default.renderToString(x.default.createElement(X.ThemeContext.Provider,{value:n},o||x.default.createElement(_,null)))}),kind:t,...r},a)};ve.propTypes={icon:Z.default.node,popup:Z.default.node};var f=p(require("react")),H=p(y()),I=require("styled-components"),b=require("@react-leaflet/core"),J=p(require("leaflet")),ho=require("leaflet.markercluster"),U=p(require("react-dom/server"));var Fe=({...o},e)=>{let r=new J.default.MarkerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!1,...o});return(0,b.createElementObject)(r,(0,b.extendContext)(e,{layerContainer:r}))},Ze=(0,b.createPathComponent)(Fe),ke=({icon:o,popup:e,...r})=>{let n=(0,f.useContext)(I.ThemeContext);return f.default.createElement(Ze,{iconCreateFunction:t=>{if(e){let a=t.bindPopup(U.default.renderToString(f.default.createElement(I.ThemeContext.Provider,{value:n},f.default.createElement(S,null,e({cluster:t})))));t.on("click",()=>{a.openPopup()})}return J.default.divIcon({className:"grommet-cluster-group",html:U.default.renderToString(f.default.createElement(I.ThemeContext.Provider,{value:n},o?f.default.cloneElement(o({cluster:t}),{cluster:t}):f.default.createElement(E,{cluster:t})))})},...r})};ke.propTypes={icon:H.default.func,popup:H.default.func};var W=p(require("react")),Pe=p(y()),we=p(require("styled-components")),j=require("grommet");var Xe=(0,we.default)(j.Box)`
  // to create the pin shape
  border-bottom-right-radius: 0;
  // translate to re-align with leaflet div
  transform: rotate(45deg) translateX(-35%);
  &:hover {
    transform: rotate(45deg) translateX(-35%) scale(1.1);
    transition: transform 0.4s;
  }
`,_=({kind:o="default"})=>{var t,a,s,h,c,m,T,C,v;let e=W.default.useContext(j.ThemeContext),r=k([(s=(a=(t=e==null?void 0:e.map)==null?void 0:t.pin)==null?void 0:a.default)==null?void 0:s.container,(m=(c=(h=e==null?void 0:e.map)==null?void 0:h.pin)==null?void 0:c[o])==null?void 0:m.container]),n=(v=(C=(T=e==null?void 0:e.map)==null?void 0:T.pin)==null?void 0:C[o])==null?void 0:v.icon;return n&&(n=W.default.cloneElement(n,{style:{transform:"rotate(-45deg)"}})),W.default.createElement(Xe,{...r},n)};_.propTypes={kind:Pe.default.string};var q=p(require("react")),Se=require("styled-components"),ze=require("grommet");var S=({...o})=>{var r;let e=(0,q.useContext)(Se.ThemeContext);return q.default.createElement(ze.Box,{...(r=e==null?void 0:e.map)==null?void 0:r.popup,...o})};window.console=console;var He=console.error,Ue=["useLayoutEffect does nothing on the server, because its effect cannot"];console.error=function(e,...r){Ue.some(n=>e.includes(n))||He(e,...r)};
//# sourceMappingURL=index.cjs.js.map
